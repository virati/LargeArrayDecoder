function [resultant,div_size] = decode(symbl)
templ = 'GGGCGAATTGGGTACCGGGCCCCCCCTCGAGGTCGACGGTATCGATAAGCTTGATATCGAATTCCACCACCACCACGGATCTCTAGCTAGTGGTGGTGGTGCAATTCCACCACCACCACGGATCTCTAGCTAGTGGTGGTGGTGCAATTCCACCACCACCACGGATCTCTAGCTAGTGGTGGTGGTGCAATTCCACCACCACCACGGATCTCTAGCTAGTGGTGGTGGTGCAATTCCACCACCACCACGGATCTCTAGCTAGTGGTGGTGGTGCAATTCCTGCAGCCCGGGGGATCCACTAGTTCTAGAGCGGCCGCCACCGCGGTGGAGCTCCAGCTTTTGTTCCCTTTAGTGAGGGTTAATTTCGAGCTTGGCGTAATCATGGTCATAGCTGTTTCCTGTGTGAAATTGTTATCCGCTCACAATTCCACACAACATACGAGCCGGAAGCATAAAGTGTAAAGCCTGGGGTGCCTAATGAGTGAGCTAACTCACATTAATTGCGTTGCGCTCACTGCCCGCTTTCCAGTCGGGAAACCTGTCGTGCCAGCTGCATTAATGAATCGGCCAACGCGCGGGGAGAGGCGGTTTGCGTATTGGGCGCTCTTCCGCTTCCTCGCTCACTGACTCGCTGCGCTCGGTCGTTCGGCTGCGGCGAGCGGTATCAGCTCACTCAAAGGCGGTAATACGGTTATCCACAGAATCAGGGGATAACGCAGGAAAGAACATGTGAGCAAAAGGCCAGCAAAAGGCCAGGAACCGTAAAAAGGCCGCGTTGCTGGCGTTTTTCCATAGGCTCCGCCCCCCTGACGAGCATCACAAAAATCGACGCTCAAGTCAGAGGTGGCGAAACCCGACAGGACTATAAAGATACCAGGCGTTTCCCCCTGGAAGCTCCCTCGTGCGCTCTCCTGTTCCGACCCTGCCGCTTACCGGATACCTGTCCGCCTTTCTCCCTTCGGGAAGCGTGGCGCTTTCTCATAGCTCACGCTGTAGGTATCTCAGTTCGGTGTAGGTCGTTCGCTCCAAGCTGGGCTGTGTGCACGAACCCCCCGTTCAGCCCGACCGCTGCGCCTTATCCGGTAACTATCGTCTTGAGTCCAACCCGGTAAGACACGACTTATCGCCACTGGCAGCAGCCACTGGTAACAGGATTAGCAGAGCGAGGTATGTAGGC';
%Find hits based on templ
hit_box = zeros(1,length(templ)-3);
for i=1:length(templ)-3
   if templ(i:i+2) == 'CAC'
       hit_box(i) = 1;
   end
end

hit_box_discrete = zeros(3,length(templ)/3);
for i=0:2
    for j=0:3:length(templ)
        if j+i+3 <= length(templ)
            if templ(j+i+1:j+i+3) == 'CAC'
                hit_box_discrete(i+1,j+1)=1; 
            end
        end
    end
end


times = find(hit_box_discrete(1,:) == 1);
times = times .* 3;

%Find inter event distances and make histogram
new_frame = 0;
first_frame = 1;
dist = 0;
for i = symbols
    if i == 1
        
        if first_frame
            first_frame = 0;
        end
        
        dist = 0;
    else
        dist = dist + 1;
    end
end


%Do sweeps
divs = 10;
div_size = floor(length(symbl)/divs);
for j=1:divs
    frame = symbl((j-1)*div_size+1:div_size*(j)-1);
    resultant(j,:) = cross_corr(frame,hit_box);
end

resultant = resultant./(div_size);

disp('done');
%%Display Hits
% figure;
% for i=1:length(hit_box)
%    if hit_box(i)==1
%        line([i i],[0 10],'Color','r');
%    end
% end
